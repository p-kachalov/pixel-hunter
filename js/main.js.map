{"version":3,"file":"main.js","sources":["abstract-view.js","intro/intro-view.js","intro/intro.js","greeting/greeting-view.js","blocks/footer-view.js","greeting/greeting.js","rules/rules-view.js","blocks/header-view.js","rules/rules.js","data/game-type.js","blocks/status-view.js","data/answer.js","blocks/stats/stats-view.js","game/game-view.js","util.js","resize/resize.js","settings.js","game/game-single-view.js","game/game-double-view.js","game/game-triple-view.js","timer/timer.js","game/game.js","game-model.js","error/error-view.js","results/results-view.js","blocks/stats/stats-calc.js","results/result-view.js","results/result-tabe-view.js","results/results.js","data/data-adapter.js","loader.js","blocks/confirm-view.js","application.js","main.js"],"sourcesContent":["\nclass AbstractView {\n  get template() {\n    throw new Error(`Template is required`);\n  }\n\n  get element() {\n    if (this._element) {\n      return this._element;\n    }\n    this._element = this.render();\n    this.bind();\n    return this._element;\n  }\n\n  render() {\n    const container = document.createElement(`div`);\n    container.innerHTML = this.template;\n    return container;\n  }\n\n  bind() {}\n}\n\nexport default AbstractView;\n","import AbstractView from '../abstract-view';\n\nclass IntroView extends AbstractView {\n  get template() {\n    return `\n    <div id=\"main\" class=\"central__content\">\n      <div id=\"intro\" class=\"intro\">\n        <h1 class=\"intro__asterisk\">*</h1>\n        <p class=\"intro__motto\"><sup>*</sup> Это не фото. Это рисунок маслом нидерландского художника-фотореалиста Tjalf Sparnaay.</p>\n      </div>\n    </div>\n    `;\n  }\n}\n\nexport default IntroView;\n","import IntroView from './intro-view';\n\nexport default () => {\n  const introView = new IntroView();\n\n  return introView.element;\n};\n","import AbstractView from '../abstract-view';\n\nclass GreetingView extends AbstractView {\n  constructor(footer) {\n    super();\n    this._footer = footer;\n  }\n\n  get template() {\n    return `\n    <div class=\"greeting central--blur\">\n      <div class=\"greeting__logo\"><img src=\"img/logo_big.png\" width=\"201\" height=\"89\" alt=\"Pixel Hunter\"></div>\n      <h1 class=\"greeting__asterisk\">*</h1>\n      <div class=\"greeting__challenge\">\n        <h3>Лучшие художники-фотореалисты бросают&nbsp;тебе&nbsp;вызов!</h3>\n        <p>Правила игры просты.<br>\n          Нужно отличить рисунок&nbsp;от фотографии и сделать выбор.<br>\n          Задача кажется тривиальной, но не думай, что все так просто.<br>\n          Фотореализм обманчив и коварен.<br>\n          Помни, главное — смотреть очень внимательно.</p>\n      </div>\n      <div class=\"greeting__continue\"><span><img src=\"img/arrow_right.svg\" width=\"64\" height=\"64\" alt=\"Next\"></span></div>\n    </div>\n    `;\n  }\n\n  render() {\n    const content = super.render();\n    const container = document.createElement(`template`);\n    container.content.appendChild(content);\n    container.content.appendChild(this._footer);\n\n    return container.content;\n  }\n\n  bind() {\n    const link = this.element.querySelector(`.greeting__continue`);\n    link.addEventListener(`click`, () => {\n      this.onContinue();\n    });\n  }\n\n  onContinue() {}\n}\n\nexport default GreetingView;\n","import AbstractView from '../abstract-view';\n\nclass FooterView extends AbstractView {\n  get template() {\n    return `\n    <footer class=\"footer\">\n      <a href=\"https://htmlacademy.ru\" class=\"social-link social-link--academy\">HTML Academy</a>\n      <span class=\"footer__made-in\">Сделано в <a href=\"https://htmlacademy.ru\" class=\"footer__link\">HTML Academy</a> &copy; 2016</span>\n      <div class=\"footer__social-links\">\n        <a href=\"https://twitter.com/htmlacademy_ru\" class=\"social-link  social-link--tw\">Твиттер</a>\n        <a href=\"https://www.instagram.com/htmlacademy/\" class=\"social-link  social-link--ins\">Инстаграм</a>\n        <a href=\"https://www.facebook.com/htmlacademy\" class=\"social-link  social-link--fb\">Фэйсбук</a>\n        <a href=\"https://vk.com/htmlacademy\" class=\"social-link  social-link--vk\">Вконтакте</a>\n      </div>\n    </footer>\n    `;\n  }\n}\n\nexport default FooterView;\n","import GreetingView from './greeting-view';\nimport FooterView from '../blocks/footer-view';\n\nexport default (transition) => {\n  const footerView = new FooterView();\n  const greetingView = new GreetingView(footerView.element);\n  greetingView.onContinue = () => transition();\n\n  return greetingView.element;\n};\n","import AbstractView from '../abstract-view';\n\nclass RulesView extends AbstractView {\n  constructor(header, footer) {\n    super();\n    this._header = header;\n    this._footer = footer;\n  }\n\n  get template() {\n    return `\n    <div class=\"rules\">\n      <h1 class=\"rules__title\">Правила</h1>\n      <p class=\"rules__description\">Угадай 10 раз для каждого изображения фото <img\n        src=\"img/photo_icon.png\" width=\"16\" height=\"16\"> или рисунок <img\n        src=\"img/paint_icon.png\" width=\"16\" height=\"16\" alt=\"\">.<br>\n        Фотографиями или рисунками могут быть оба изображения.<br>\n        На каждую попытку отводится 30 секунд.<br>\n        Ошибиться можно не более 3 раз.<br>\n        <br>\n        Готовы?\n      </p>\n      <form class=\"rules__form\">\n        <input class=\"rules__input\" type=\"text\" placeholder=\"Ваше Имя\">\n        <button class=\"rules__button  continue\" type=\"submit\" disabled>Go!</button>\n      </form>\n    </div>\n    `;\n  }\n\n  render() {\n    const content = super.render();\n    const container = document.createElement(`template`);\n    container.content.appendChild(this._header);\n    container.content.appendChild(content);\n    container.content.appendChild(this._footer);\n\n    return container.content;\n  }\n\n  bind() {\n    const form = this.element.querySelector(`.rules__form`);\n    const input = this.element.querySelector(`.rules__input`);\n    const button = this.element.querySelector(`.rules__button`);\n\n    input.addEventListener(`input`, (evt) => {\n      button.disabled = evt.target.value.length === 0;\n    });\n\n    form.addEventListener(`submit`, (evt) => {\n      evt.preventDefault();\n      this.onSubmit(input.value);\n    });\n  }\n\n  onSubmit() {}\n}\n\nexport default RulesView;\n","import AbstractView from '../abstract-view';\n\nclass HeaderView extends AbstractView {\n  constructor(status) {\n    super();\n    this._status = status;\n  }\n\n  get template() {\n    return `\n    <header class=\"header\">\n      <div class=\"header__back\">\n        <button class=\"back\">\n          <img src=\"img/arrow_left.svg\" width=\"45\" height=\"45\" alt=\"Back\">\n          <img src=\"img/logo_small.svg\" width=\"101\" height=\"44\">\n        </button>\n      </div>\n    </header>\n    `;\n  }\n\n  render() {\n    const content = super.render();\n    if (this._status) {\n      content.appendChild(this._status);\n    }\n    return content;\n  }\n\n  bind() {\n    const backButton = this.element.querySelector(`.back`);\n    backButton.addEventListener(`click`, () => {\n      this.onBackClick();\n    });\n  }\n\n  onBackClick() {}\n}\n\nexport default HeaderView;\n","import RulesView from './rules-view';\nimport HeaderView from '../blocks/header-view';\nimport FooterView from '../blocks/footer-view';\n\nexport default (transitionBack, transitionForward) => {\n  const headerView = new HeaderView();\n  headerView.onBackClick = () => transitionBack();\n  const footerView = new FooterView();\n  const rulesView = new RulesView(headerView.element, footerView.element);\n  rulesView.onSubmit = (userName) => transitionForward(userName);\n\n  return rulesView.element;\n};\n","\nexport default Object.freeze({\n  SINGLE: `single`,\n  DOUBLE: `douvle`,\n  TRIPLE: `triple`,\n});\n","import AbstractView from '../abstract-view';\n\nconst HURRY_TIME = 5;\n\nclass StatusView extends AbstractView {\n  constructor(state) {\n    super();\n    this._state = state;\n  }\n\n  get template() {\n    return `\n    <h1 class=\"game__timer\" ${this._state.time <= HURRY_TIME ? `style=\"animation: blink-animation 1s steps(5, start) infinite\"` : ``}>${this._state.time}</h1>\n    <div class=\"game__lives\">\n      ${new Array(this._state.settings.maxLivesNumber - this._state.lives)\n        .fill(`<img src=\"img/heart__empty.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\">`)\n        .join(``)}\n      ${new Array(this._state.lives)\n        .fill(`<img src=\"img/heart__full.svg\" class=\"game__heart\" alt=\"Life\" width=\"32\" height=\"32\">`)\n        .join(``)}\n    </div>\n    <style>\n      @keyframes blink-animation {\n        to {\n          visibility: hidden;\n        }\n      }\n    </style>\n    `;\n  }\n}\n\nexport default StatusView;\n","const Answer = Object.freeze({\n  WRONG: `wrong`,\n  CORRECT: `correct`,\n  FAST: `fast`,\n  SLOW: `slow`,\n  UNKONWN: `unknown`,\n});\n\nexport default Answer;\n","import AbstractView from '../../abstract-view';\nimport Answer from '../../data/answer';\n\nconst getAnswerTemplate = (answer) => {\n  return `<li class=\"stats__result stats__result--${answer}\"></li>`;\n};\n\nclass StatsView extends AbstractView {\n  constructor(answers, questionsNumber) {\n    super();\n    this._answers = answers;\n    this._questionsNumber = questionsNumber;\n  }\n\n  get template() {\n    return `\n    <ul class=\"stats\">\n      ${this._answers.reduce((acc, answer) => acc + getAnswerTemplate(answer), ``)}\n      ${new Array(this._questionsNumber - this._answers.length)\n        .fill(getAnswerTemplate(Answer.UNKONWN)).join(``)}\n    </ul>\n    `;\n  }\n}\n\nexport default StatsView;\n","import AbstractView from '../abstract-view';\n\nclass GameView extends AbstractView {\n  constructor(header, footer, stats, game) {\n    super();\n    this._header = header;\n    this._footer = footer;\n    this._stats = stats;\n    this._game = game;\n  }\n\n  render() {\n    const container = document.createDocumentFragment();\n    container.appendChild(this._header);\n    container.appendChild(this._game);\n    container.appendChild(this._stats);\n    container.appendChild(this._footer);\n    return container;\n  }\n}\n\nexport default GameView;\n","\nexport const debugStyle = (debug, predicat) => {\n  if (debug && predicat) {\n    return `style=\"outline: 3px solid blue\"`;\n  }\n  return ``;\n};\n","\nexport const resize = (frame, image) => {\n  const widthScale = image.width / frame.width;\n  const heightScale = image.height / frame.height;\n  const scale = widthScale > heightScale ? widthScale : heightScale;\n\n  return {\n    width: Math.round(image.width / scale),\n    height: Math.round(image.height / scale)\n  };\n};\n\nexport const fitIntoBox = (image) => {\n  const imageSize = {width: image.naturalWidth, height: image.naturalHeight};\n  const frameSize = {width: image.width, height: image.height};\n  const newSize = resize(frameSize, imageSize);\n  image.width = newSize.width;\n  image.height = newSize.height;\n  return;\n};\n","\nconst Settings = Object.freeze({\n  DEBUG: true,\n  GAME_SETTINGS: Object.freeze({\n    maxLivesNumber: 3,\n    questionNumber: 10,\n    answerCost: 100,\n    fastCost: 50,\n    slowCost: 50,\n    liveCost: 50,\n    slowTime: 20,\n    fastTime: 10,\n    timeOnAnswer: 30,\n  })\n});\n\nexport default Settings;\n","import AbstractView from '../abstract-view';\nimport {debugStyle} from '../util';\nimport {fitIntoBox} from '../resize/resize';\nimport Settings from '../settings';\n\nclass GameSingleView extends AbstractView {\n  constructor(data) {\n    super();\n    this._debug = Settings.DEBUG;\n    this._question = data.text;\n    this._image = data.images[0];\n  }\n\n  get template() {\n    return `\n    <div class=\"game\">\n      <p class=\"game__task\">${this._question}</p>\n      <form class=\"game__content  game__content--wide\">\n        <div class=\"game__option\">\n          <img src=\"${this._image.src}\" alt=\"${this._image.alt}\" width=\"${this._image.width}\" height=\"${this._image.height}\">\n          <label class=\"game__answer  game__answer--photo\">\n            <input name=\"${this._image.name}\" type=\"radio\" value=\"photo\" required>\n            <span ${debugStyle(this._debug, this._image.rightValue === `photo`)}>Фото</span>\n          </label>\n          <label class=\"game__answer game__answer--paint game__answer--wide\">\n            <input name=\"${this._image.name}\" type=\"radio\" value=\"paint\" required>\n            <span ${debugStyle(this._debug, this._image.rightValue === `paint`)}>Рисунок</span>\n          </label>\n        </div>\n      </form>\n    </div>\n    `;\n  }\n\n  bind() {\n    const gameContent = this.element.querySelector(`.game__content`);\n    gameContent.addEventListener(`change`, () => {\n      const option = gameContent.elements[this._image.name].value;\n      this.onAnswer(option === this._image.rightValue);\n    });\n\n    const image = this.element.querySelector(`.game__option img`);\n    image.addEventListener(`load`, (evt) => {\n      fitIntoBox(evt.target);\n    });\n  }\n\n  onAnswer() {}\n}\n\nexport default GameSingleView;\n","import AbstractView from '../abstract-view';\nimport {debugStyle} from '../util';\nimport {fitIntoBox} from '../resize/resize';\nimport Settings from '../settings';\n\nclass GameDoubleView extends AbstractView {\n  constructor(data) {\n    super();\n    this._debug = Settings.DEBUG;\n    this._question = data.text;\n    this._image1 = data.images[0];\n    this._image2 = data.images[1];\n  }\n\n  get template() {\n    return `\n    <div class=\"game\">\n      <p class=\"game__task\">${this._question}</p>\n      <form class=\"game__content\">\n        <div class=\"game__option\">\n          <img src=\"${this._image1.src}\" alt=\"${this._image1.alt}\" width=\"${this._image1.width}\" height=\"${this._image1.height}\">\n          <label class=\"game__answer  game__answer--photo\">\n            <input name=\"${this._image1.name}\" type=\"radio\" value=\"photo\" required>\n            <span ${debugStyle(this._debug, this._image1.rightValue === `photo`)}>Фото</span>\n          </label>\n          <label class=\"game__answer  game__answer--paint\">\n            <input name=\"${this._image1.name}\" type=\"radio\" value=\"paint\" required>\n            <span ${debugStyle(this._debug, this._image1.rightValue === `paint`)}>Рисунок</span>\n          </label>\n        </div>\n        <div class=\"game__option\">\n          <img src=\"${this._image2.src}\" alt=\"${this._image2.alt}\" width=\"${this._image2.width}\" height=\"${this._image2.height}\">\n          <label class=\"game__answer  game__answer--photo\">\n            <input name=\"${this._image2.name}\" type=\"radio\" value=\"photo\" required>\n            <span ${debugStyle(this._debug, this._image2.rightValue === `photo`)}>Фото</span>\n          </label>\n          <label class=\"game__answer  game__answer--paint\">\n            <input name=\"${this._image2.name}\" type=\"radio\" value=\"paint\" required>\n            <span ${debugStyle(this._debug, this._image2.rightValue === `paint`)}>Рисунок</span>\n          </label>\n        </div>\n      </form>\n    </div>\n    `;\n  }\n\n  bind() {\n    const gameContent = this.element.querySelector(`.game__content`);\n    gameContent.addEventListener(`change`, () => {\n      if (!gameContent.reportValidity()) {\n        return;\n      }\n      const rightAnswer1 = this._image1.rightValue;\n      const rightAnswer2 = this._image2.rightValue;\n      const option1 = gameContent.elements[this._image1.name].value;\n      const option2 = gameContent.elements[this._image2.name].value;\n      const result = option1 === rightAnswer1 && option2 === rightAnswer2;\n      this.onAnswer(result);\n    });\n\n    const options = this.element.querySelectorAll(`.game__option img`);\n    for (const item of options) {\n      item.addEventListener(`load`, (evt) => {\n        fitIntoBox(evt.target);\n      });\n    }\n  }\n\n  onAnswer() {}\n}\n\nexport default GameDoubleView;\n","import AbstractView from '../abstract-view';\nimport {debugStyle} from '../util';\nimport {fitIntoBox} from '../resize/resize';\nimport Settings from '../settings';\n\nclass GameTripleView extends AbstractView {\n  constructor(data) {\n    super();\n    this._debug = Settings.DEBUG;\n    this._question = data.text;\n    this._image1 = data.images[0];\n    this._image2 = data.images[1];\n    this._image3 = data.images[2];\n    this._rightValue = data.images.filter((item) => item.rightValue)[0].name;\n  }\n\n  get template() {\n    return `\n    <div class=\"game\">\n      <p class=\"game__task\">${this._question}</p>\n      <form class=\"game__content game__content--triple\">\n        <div class=\"game__option\" ${debugStyle(this._debug, this._image1.rightValue)} data-name=\"${this._image1.name}\">\n          <img src=\"${this._image1.src}\" alt=\"${this._image1.alt}\" width=\"${this._image1.width}\" height=\"${this._image1.height}\">\n        </div>\n        <div class=\"game__option\" ${debugStyle(this._debug, this._image2.rightValue)} data-name=\"${this._image2.name}\">\n          <img src=\"${this._image2.src}\" alt=\"${this._image2.alt}\" width=\"${this._image2.width}\" height=\"${this._image2.height}\">\n        </div>\n        <div class=\"game__option\" ${debugStyle(this._debug, this._image3.rightValue)} data-name=\"${this._image3.name}\">\n          <img src=\"${this._image3.src}\" alt=\"${this._image3.alt}\" width=\"${this._image3.width}\" height=\"${this._image3.height}\">\n        </div>\n      </form>\n    </div>\n    `;\n  }\n\n  bind() {\n    const gameContent = this.element.querySelector(`.game__content`);\n    gameContent.addEventListener(`change`, () => {\n      const option1 = gameContent.elements[this._image1.name].value;\n      const option2 = gameContent.elements[this._image2.name].value;\n      this.onAnswer({option1, option2});\n    });\n\n    const options = this.element.querySelectorAll(`.game__option`);\n    for (const item of options) {\n      item.addEventListener(`click`, (evt) => {\n        evt.preventDefault();\n        const option = evt.currentTarget.dataset.name;\n        const result = option === this._rightValue;\n        this.onAnswer(result);\n      });\n\n      const image = item.querySelector(`img`);\n      image.addEventListener(`load`, (evt) => {\n        fitIntoBox(evt.target);\n      });\n    }\n  }\n\n  onAnswer() {}\n}\n\nexport default GameTripleView;\n","const createTimer = (time) => {\n  if (typeof time !== `number`) {\n    throw new TypeError(`Argument should be a number`);\n  }\n\n  if (!Number.isInteger(time)) {\n    throw new TypeError(`Argument should be integer`);\n  }\n\n  if (time < 0) {\n    throw new RangeError(`Argument should be more then 0`);\n  }\n\n  return Object.freeze(\n      {\n        time,\n        tick() {\n          return createTimer(time - 1);\n        }\n      }\n  );\n};\n\nexport default createTimer;\n","import GameType from '../data/game-type';\nimport HeaderView from '../blocks/header-view';\nimport StatusView from '../blocks/status-view';\nimport StatsView from '../blocks/stats/stats-view';\nimport FooterView from '../blocks/footer-view';\nimport GameView from './game-view';\nimport GameSingleView from './game-single-view';\nimport GameDoubleView from './game-double-view';\nimport GameTripleView from './game-triple-view';\nimport createTimer from '../timer/timer';\n\n\nconst GameViewSet = {\n  [GameType.SINGLE]: GameSingleView,\n  [GameType.DOUBLE]: GameDoubleView,\n  [GameType.TRIPLE]: GameTripleView,\n};\n\nconst makeNewGame = (question) => {\n  const Game = GameViewSet[question.type];\n  return new Game(question);\n};\n\nexport default class GameSceen {\n  constructor(model, transitionBack, transitionForward) {\n    this._model = model;\n    this._transitionBack = transitionBack;\n    this._transitionForward = transitionForward;\n\n    const status = new StatusView(model);\n    this._header = new HeaderView(status.element);\n    this._header.onBackClick = () => this._transitionBack();\n    this._stats = new StatsView(model.answers, model.settings.questionNumber);\n    this._footer = new FooterView();\n\n    const question = this._model.getQuestion();\n    this._game = makeNewGame(question);\n    this._game.onAnswer = (result) => this.onAnswer(result);\n\n    this._gameView = new GameView(this._header.element, this._footer.element, this._stats.element, this._game.element);\n  }\n\n  get element() {\n    return this._gameView.element;\n  }\n\n  _updateStatus() {\n    const newStatus = new StatusView(this._model);\n    const newHeader = new HeaderView(newStatus.element);\n\n    this._header.element.parentNode.replaceChild(newHeader.element, this._header.element);\n    this._header = newHeader;\n    this._header.onBackClick = () => this._transitionBack();\n  }\n\n  _updateStats() {\n    const newStats = new StatsView(this._model.answers, this._model.settings.questionNumber);\n    this._stats.element.parentNode.replaceChild(newStats.element, this._stats.element);\n    this._stats = newStats;\n  }\n\n  _nextLevel() {\n    const question = this._model.getQuestion();\n    const newGame = makeNewGame(question);\n    newGame.onAnswer = (result) => this.onAnswer(result);\n\n    this._game.element.parentNode.replaceChild(newGame.element, this._game.element);\n    this._game = newGame;\n    this.startGame();\n  }\n\n  startGame() {\n    const ticker = (timer) => {\n      this._model.time = timer.time;\n      this._updateStatus();\n      if (timer.time === 0) {\n        this.onAnswer(false);\n        return;\n      }\n      this.timeout = window.setTimeout(() => {\n        ticker(timer.tick());\n      }, 1000);\n    };\n\n    ticker(createTimer(this._model.settings.timeOnAnswer));\n  }\n\n  stopGame() {\n    window.clearTimeout(this.timeout);\n  }\n\n  onAnswer(result) {\n    this.stopGame();\n    this._model.handleAnswer(result);\n    if (this._model.gameOver) {\n      this._model.saveResult();\n      this._transitionForward(this._model);\n    } else {\n      this._nextLevel();\n      this._updateStatus();\n      this._updateStats();\n    }\n  }\n}\n","import Answer from './data/answer';\nimport Settings from './settings';\n\nexport default class GameModel {\n  constructor(userName, data) {\n    this._userName = userName;\n    this._settings = Object.assign({}, Settings.GAME_SETTINGS, {questionNumber: data.length});\n    this._lives = Settings.GAME_SETTINGS.maxLivesNumber;\n    this._questions = data;\n    this._answers = [];\n    this._gameOver = false;\n    this._result = null;\n    this._time = 0;\n  }\n\n  get userName() {\n    return this._userName;\n  }\n\n  get settings() {\n    return this._settings;\n  }\n\n  get lives() {\n    return this._lives;\n  }\n\n  get answers() {\n    return this._answers;\n  }\n\n  get gameOver() {\n    return this._gameOver;\n  }\n\n  get result() {\n    return this._result;\n  }\n\n  get time() {\n    return this._time;\n  }\n\n  set time(newTime) {\n    this._time = newTime;\n  }\n\n  _getAnswer(result, time, settings) {\n    if (!result) {\n      return Answer.WRONG;\n    }\n    if (settings.timeOnAnswer - time < settings.fastTime) {\n      return Answer.FAST;\n    }\n    if (settings.timeOnAnswer - time > settings.slowTime) {\n      return Answer.SLOW;\n    }\n\n    return Answer.CORRECT;\n  }\n\n  getQuestion() {\n    return this._questions[this._answers.length];\n  }\n\n  handleAnswer(result) {\n    const answer = this._getAnswer(result, this._time, this._settings);\n    this._lives = (answer === Answer.WRONG) ? this._lives - 1 : this._lives;\n    this._answers = [...this._answers, answer];\n    this._gameOver = this._lives < 0 || this._answers.length === this._settings.questionNumber;\n  }\n\n  saveResult() {\n    const lives = this._lives;\n    const answers = this._answers;\n    this._result = {lives, answers};\n  }\n}\n","import AbstractView from '../abstract-view';\n\nclass ErrorView extends AbstractView {\n  constructor(error) {\n    super();\n    this._error = error;\n  }\n\n  get template() {\n    return `\n    <section class=\"modal-error modal-error__wrap\">\n      <div class=\"modal-error__inner\">\n        <h2 class=\"modal-error__title\">Произошла ошибка!</h2>\n        <p class=\"modal-error__text\">Статус: ${this._error}. Пожалуйста, перезагрузите страницу.</p>\n      </div>\n    </section>\n    `;\n  }\n}\n\nexport default ErrorView;\n","import AbstractView from '../abstract-view';\n\nclass ResultsView extends AbstractView {\n  constructor(header, footer, table) {\n    super();\n    this._header = header;\n    this._footer = footer;\n    this._table = table;\n  }\n\n  render() {\n    const container = document.createDocumentFragment();\n    container.appendChild(this._header);\n    container.appendChild(this._table);\n    container.appendChild(this._footer);\n    return container;\n  }\n}\n\nexport default ResultsView;\n","\nimport Answer from '../../data/answer';\n\nexport default (answers, lives, settings) => {\n  if (answers.length < settings.questionNumber) {\n    return -1;\n  }\n\n  const SCORE = {\n    [Answer.WRONG]: 0,\n    [Answer.UNKONWN]: 0,\n    [Answer.CORRECT]: settings.answerCost,\n    [Answer.FAST]: settings.answerCost + settings.fastCost,\n    [Answer.SLOW]: settings.answerCost - settings.slowCost,\n  };\n\n  return answers.reduce((acc, answer) => {\n    return acc + SCORE[answer];\n  }, lives * settings.liveCost);\n};\n","import AbstractView from '../abstract-view';\n\nconst getTotalBlock = (fail, points, totalPoints) => {\n  const totalFailTemplate = `\n  <td class=\"result__total\"></td>\n  <td class=\"result__total  result__total--final\">fail</td>\n  `;\n\n  const totalPointsTemplate = `\n  <td class=\"result__points\">×&nbsp;${points}</td>\n  <td class=\"result__total\">${totalPoints}</td>\n  `;\n\n  return fail ? totalFailTemplate : totalPointsTemplate;\n};\n\nconst getSpeedBonusBlock = (fail, fast, fastCost) => {\n  const speetBonusTemplate = `\n  <tr>\n    <td></td>\n    <td class=\"result__extra\">Бонус за скорость:</td>\n    <td class=\"result__extra\">${fast}&nbsp;<span class=\"stats__result stats__result--fast\"></span></td>\n    <td class=\"result__points\">×&nbsp;${fastCost}</td>\n    <td class=\"result__total\">${fast * fastCost}</td>\n  </tr>\n  `;\n\n  return (!fail && fast > 0) ? speetBonusTemplate : ``;\n};\n\nconst getLivesBonusBlock = (fail, lives, liveCost) => {\n  const livesBonusTemplate = `\n  <tr>\n    <td></td>\n    <td class=\"result__extra\">Бонус за жизни:</td>\n    <td class=\"result__extra\">${lives}&nbsp;<span class=\"stats__result stats__result--alive\"></span></td>\n    <td class=\"result__points\">×&nbsp;${liveCost}</td>\n    <td class=\"result__total\">${lives * liveCost}</td>\n  </tr>\n  `;\n\n  return (!fail && lives > 0) ? livesBonusTemplate : ``;\n};\n\nconst getSlowPenaltyBlock = (fail, slow, slowCost) => {\n  const slowPenaltyTemplate = `\n  <tr>\n    <td></td>\n    <td class=\"result__extra\">Штраф за медлительность:</td>\n    <td class=\"result__extra\">${slow}&nbsp;<span class=\"stats__result stats__result--slow\"></span></td>\n    <td class=\"result__points\">×&nbsp;${slowCost}</td>\n    <td class=\"result__total\">-${slow * slowCost}</td>\n  </tr>\n  `;\n\n  return (!fail && slow > 0) ? slowPenaltyTemplate : ``;\n};\n\nconst getTotalFinalBlock = (fail, totalFinal) => {\n  const totalFinalTemplate = `\n  <tr>\n    <td colspan=\"5\" class=\"result__total  result__total--final\">\n      ${totalFinal}\n    </td>\n  </tr>\n  `;\n\n  return (!fail && totalFinal > 0) ? totalFinalTemplate : ``;\n};\n\nclass ResultView extends AbstractView {\n  constructor(data, statsElement) {\n    super();\n    this._gameNumber = data.gameNumber;\n    this._totalBlock = getTotalBlock(data.fail, data.points, data.totalPoints);\n    this._speedBonusBlock = getSpeedBonusBlock(data.fail, data.fast, data.fastCost);\n    this._livesBonusBlock = getLivesBonusBlock(data.fail, data.lives, data.liveCost);\n    this._slowPenaltyBlock = getSlowPenaltyBlock(data.fail, data.slow, data.slowCost);\n    this._totalFinalBlock = getTotalFinalBlock(data.fail, data.totalFinal);\n    this._statsElement = statsElement;\n  }\n\n  get template() {\n    return `\n    <table class=\"result__table\">\n      <tr>\n        <td class=\"result__number\">${this._gameNumber}.</td>\n        <td colspan=\"2\" class=\"stats-container\"></td>\n        ${this._totalBlock}\n        ${this._speedBonusBlock}\n        ${this._livesBonusBlock}\n        ${this._slowPenaltyBlock}\n        ${this._totalFinalBlock}\n      </tr>\n    </table>\n    `;\n  }\n\n  insertStats() {\n    const statsContainer = this.element.querySelector(`.stats-container`);\n    statsContainer.appendChild(this._statsElement);\n  }\n}\n\nexport default ResultView;\n","import AbstractView from '../abstract-view';\n\nclass ResultsView extends AbstractView {\n  constructor(isWin, table) {\n    super();\n    this._isWin = isWin;\n    this._table = table;\n  }\n\n  get template() {\n    return `\n      <div class=\"result\">\n        <h1>${this._isWin ? `Победа` : `Поражение`}!</h1>\n      </div>\n    `;\n  }\n\n  render() {\n    const content = super.render();\n    this._table.forEach((item) => {\n      content.appendChild(item);\n    });\n\n    return content;\n  }\n}\n\nexport default ResultsView;\n","import HeaderView from '../blocks/header-view';\nimport FooterView from '../blocks/footer-view';\nimport ResultsView from './results-view';\nimport Answer from '../data/answer';\nimport statsCalc from '../blocks/stats/stats-calc';\nimport ResultView from './result-view';\nimport ResultTableView from './result-tabe-view';\nimport StatsView from '../blocks/stats/stats-view';\n\nconst processResultsData = (data, settings) => {\n  const results = data.map((result, index) => {\n    const answers = result.answers;\n    const gameNumber = index + 1;\n    const lives = result.lives;\n    const fail = lives < 0;\n    const points = settings.answerCost;\n    const rightAnswer = result.answers.filter((answer) => {\n      return answer !== Answer.WRONG && answer !== Answer.UNKONWN;\n    }).length;\n    const totalPoints = points * rightAnswer;\n    const fast = result.answers.filter((answer) => answer === Answer.FAST).length;\n    const slow = result.answers.filter((answer) => answer === Answer.SLOW).length;\n    const fastCost = settings.fastCost;\n    const liveCost = settings.liveCost;\n    const slowCost = settings.slowCost;\n    const totalFinal = statsCalc(result.answers, result.lives, settings);\n\n    return {\n      answers,\n      gameNumber,\n      fail,\n      points,\n      totalPoints,\n      fast,\n      fastCost,\n      lives,\n      liveCost,\n      slow,\n      slowCost,\n      totalFinal\n    };\n  });\n  return results;\n};\n\nexport default class Results {\n  constructor(model, transition) {\n    this._model = model;\n    this._headerView = new HeaderView();\n    this._headerView.onBackClick = () => transition();\n    this._footerView = new FooterView();\n    this._table = new ResultTableView(null, []);\n    this._resultView = new ResultsView(this._headerView.element, this._footerView.element, this._table.element);\n  }\n\n  get element() {\n    return this._resultView.element;\n  }\n\n  renderResultTable(data) {\n    const resultsData = processResultsData(data, this._model.settings);\n    let resultTable = [];\n\n    resultsData.forEach((dataItem) => {\n      const statsView = new StatsView(dataItem.answers, this._model.settings.questionNumber);\n      const result = new ResultView(dataItem, statsView.element);\n      result.insertStats();\n      resultTable.push(result.element);\n    });\n\n    const isWin = this._model.lives >= 0;\n    const newTable = new ResultTableView(isWin, resultTable);\n    this._table.element.parentNode.replaceChild(newTable.element, this._table.element);\n  }\n\n}\n","import GameType from './game-type';\n\nconst MapGameType = {\n  'two-of-two': GameType.DOUBLE,\n  'tinder-like': GameType.SINGLE,\n  'one-of-three': GameType.TRIPLE\n};\n\nconst MapValue = {\n  'painting': `paint`,\n  'photo': `photo`\n};\n\nconst getRightAnswerForTriple = (answers) => {\n  const answerTypes = answers.map((answer) => answer.type);\n  return answerTypes.reduce((accumulator, currentValue) => {\n    return (answerTypes.indexOf(currentValue) === answerTypes.lastIndexOf(currentValue)) ? currentValue : accumulator;\n  }, null);\n};\n\nconst isTripleGame = (question) => MapGameType[question.type] === GameType.TRIPLE;\n\nexport const adaptServerData = (data) => {\n  return data.map((question) => {\n    const rightAnswerForTriple = isTripleGame(question) ? getRightAnswerForTriple(question.answers) : null;\n    return Object.assign({}, {\n      type: MapGameType[question.type],\n      text: question.question,\n      images: question.answers.map((answer, index) => {\n        return {\n          name: `question${index + 1}`,\n          rightValue: isTripleGame(question) ? rightAnswerForTriple === answer.type : MapValue[answer.type],\n          src: answer.image.url,\n          alt: `Option ${index + 1}`,\n          width: `${answer.image.width}`,\n          height: `${answer.image.height}`\n        };\n      })\n    });\n  });\n};\n\nexport const adaptLocalData = (result) => {\n  return {lives: result.lives, stats: result.answers};\n};\n\nexport const adaptServerResults = (results) => {\n  return results.map((answer) => {\n    return {lives: answer.lives, answers: answer.stats};\n  });\n};\n","import {adaptServerData, adaptServerResults, adaptLocalData} from './data/data-adapter';\n\nconst SERVER_URL = `https://es.dump.academy/pixel-hunter`;\nconst APP_ID = `235268`;\n\nconst checkStatus = (response) => {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  throw new Error(`${response.status}: ${response.statusText}`);\n};\n\nconst toJSON = (res) => res.json();\n\nconst getSources = (data) => {\n  return data.reduce((accumulator, question) => {\n    return [...accumulator, ...question.images.map((image) => image.src)];\n  }, []);\n};\n\nconst loadImage = (imageSrc) => {\n  return new Promise((resolve, reject) => {\n    const image = new Image();\n    image.addEventListener(`load`, () => {\n      resolve();\n    });\n    image.addEventListener(`error`, (error) => {\n      reject(error);\n    });\n\n    image.src = imageSrc;\n  });\n};\n\nexport default class Loader {\n  static loadData() {\n    return window.fetch(`${SERVER_URL}/questions`).then(checkStatus).then(toJSON).then(adaptServerData);\n  }\n\n  static loadImages(data) {\n    const imageSources = getSources(data);\n    return Promise.all(imageSources.map(loadImage));\n  }\n\n  static loadResults(name) {\n    return fetch(`${SERVER_URL}/stats/${APP_ID}-${name}`).then(checkStatus).then(toJSON).then(adaptServerResults);\n  }\n\n  static saveResults(data, name) {\n    const savedData = Object.assign({name}, adaptLocalData(data));\n    const requestSettings = {\n      body: JSON.stringify(savedData),\n      headers: {\n        'Content-Type': `application/json`\n      },\n      method: `POST`\n    };\n\n    return fetch(`${SERVER_URL}/stats/${APP_ID}-${name}`, requestSettings).then(checkStatus);\n  }\n}\n","import AbstractView from '../abstract-view';\n\nclass ConfirmView extends AbstractView {\n  constructor() {\n    super();\n  }\n\n  get template() {\n    return `\n    <section class=\"modal-confirm modal-confirm__wrap\">\n      <form class=\"modal-confirm__inner\">\n        <button class=\"modal-confirm__close\" type=\"button\">Закрыть</button>\n        <h2 class=\"modal-confirm__title\">Подтверждение</h2>\n        <p class=\"modal-confirm__text\">Вы уверены что хотите начать игру заново?</p>\n        <div class=\"modal-confirm__btn-wrap\">\n          <button class=\"modal-confirm__btn modal-confirm__btn_ok\">Ок</button>\n          <button class=\"modal-confirm__btn modal-confirm__btn_cancel\">Отмена</button>\n        </div>\n      </form>\n    </section>\n    `;\n  }\n\n  bind() {\n    const okButton = this.element.querySelector(`.modal-confirm__btn_ok`);\n    okButton.addEventListener(`click`, (evt) => {\n      evt.preventDefault();\n      this.onOkClick();\n    });\n\n    const cancelButton = this.element.querySelector(`.modal-confirm__btn_cancel`);\n    cancelButton.addEventListener(`click`, (evt) => {\n      evt.preventDefault();\n      this.onCancelClick();\n    });\n\n    const closeButton = this.element.querySelector(`.modal-confirm__close`);\n    closeButton.addEventListener(`click`, (evt) => {\n      evt.preventDefault();\n      this.onCloseClick();\n    });\n\n  }\n\n  onOkClick() {}\n\n  onCancelClick() {}\n\n  onCloseClick() {}\n}\n\nexport default ConfirmView;\n","import introScreen from './intro/intro';\nimport greetingScreen from './greeting/greeting';\nimport rulesScreen from './rules/rules';\nimport GameScreen from './game/game';\nimport GameModel from './game-model';\nimport ErrorView from './error/error-view';\nimport ResultsScreen from './results/results';\nimport Loader from './loader';\nimport ConfirmView from './blocks/confirm-view';\n\nconst container = document.querySelector(`.central`);\n\nconst clearContainer = (element) => {\n  while (element.firstChild) {\n    element.removeChild(element.firstChild);\n  }\n};\n\nconst fadeout = (callback, opacity = 1) => {\n  container.style.opacity = opacity;\n  if (opacity <= 0) {\n    container.style.opacity = 0;\n    callback();\n    return;\n  }\n\n  window.setTimeout(() => fadeout(callback, opacity - 0.1), 100);\n};\n\nconst fadein = (opacity = 0) => {\n  container.style.opacity = opacity;\n  if (opacity >= 1) {\n    container.style.opacity = 1;\n    return;\n  }\n\n  window.setTimeout(() => fadein(opacity + 0.1), 100);\n};\n\nconst changeView = (element, crossfade) => {\n  if (crossfade) {\n    fadeout(() => {\n      clearContainer(container);\n      container.appendChild(element);\n      fadein();\n    });\n    return;\n  }\n\n  clearContainer(container);\n  container.appendChild(element);\n};\n\nlet gameData = null;\n\nexport default class Application {\n  static showIntro() {\n    const intro = introScreen();\n    changeView(intro);\n    Loader.loadData().\n      then((data) => {\n        Loader.loadImages(data).\n        then(() => {\n          gameData = data;\n          Application.showGreeting(true);\n        }).\n        catch((error) => Application.showError(error));\n      }).\n      catch((error) => Application.showError(error));\n  }\n\n  static showGreeting(crossfade = false) {\n    const greeting = greetingScreen(Application.showRules);\n    changeView(greeting, crossfade);\n  }\n\n  static showRules() {\n    const rules = rulesScreen(Application.showGreeting, Application.showGame);\n    changeView(rules);\n  }\n\n  static showGame(userName) {\n    const model = new GameModel(userName, gameData);\n    const game = new GameScreen(model, () => Application.showConfirm(game), Application.showResults);\n    changeView(game.element);\n    game.startGame();\n  }\n\n  static showResults(model) {\n    const results = new ResultsScreen(model, Application.showGreeting);\n    changeView(results.element);\n    Loader.saveResults(model.result, model.userName).\n      then(() => Loader.loadResults(model.userName)).\n      then((data) => results.renderResultTable(data)).\n      catch(Application.showError);\n  }\n\n  static showConfirm(game) {\n    const confirm = new ConfirmView();\n    confirm.onCancelClick = () => Application.hideConfirm(confirm);\n    confirm.onCloseClick = () => Application.hideConfirm(confirm);\n    confirm.onOkClick = () => {\n      game.stopGame();\n      Application.hideConfirm(confirm);\n      Application.showGreeting();\n    };\n\n    container.parentNode.appendChild(confirm.element);\n  }\n\n  static hideConfirm(confirm) {\n    container.parentNode.removeChild(confirm.element);\n  }\n\n  static showError(error) {\n    const errorView = new ErrorView(error);\n    container.parentNode.appendChild(errorView.element);\n  }\n}\n","import Application from './application';\n\nApplication.showIntro();\n"],"names":["ResultTableView","GameScreen","ResultsScreen"],"mappings":"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"}